<!DOCTYPE html>
<html>
<head>
    <title>jQuery mobile with Google maps geo directions example</title>
    <meta content="en" http-equiv="content-language">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.4/jquery.mobile-1.4.4.min.css"/>
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.4/jquery.mobile-1.4.4.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3&sensor=false&language=en"></script>
    <link rel="stylesheet" type="text/css" href="css/index.css"/>

    <script type="text/javascript">
        $(document).on("pageinit", "#map_page", function () {
            initialize();
        });

        function initialize() {
            var zoom = Math.floor(($('body').width() / 512) + 1);

            var mapCenter = new google.maps.LatLng(0, 0);

            var myOptions = {
                zoom: zoom,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                center: mapCenter
            }

            var locations = [
                ['UQ', -27.495134, 153.013502, "http://www.youtube.com/embed/uZ2SWWDt8Wg", 1],
                ['New York', 40.715520, -74.002036, "http://www.youtube.com/embed/JG0wmXyi-Mw", 2],
                ['Stadtbibliothek', 47.09399, 15.40548, "http://www.youtube.com/embed/tfEjTgUmeWw", 3],
                ['Fallujah', 33.101509, 44.047308, "http://www.youtube.com/embed/V2EOMzZsTrE", 4]
            ];


            map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);


            for (i = 0; i < locations.length; i++) {
                var source = locations[i][3];
                var contentString = '<div id="content">' +
                        '<div id="siteNotice">' +
                        '</div>' +
                        '<h1 id="firstHeading" class="firstHeading">"' + locations[i][0] + '"</h1>' +
                        '<div id="bodyContent">' +
                        '<iframe id="windowframe" width="560" height="349" src="' + source + '" frameborder="0" allowfullscreen></iframe>' +
                        '</div>' +
                        '</div>';

                var infowindow = new google.maps.InfoWindow({
                    content: contentString });


                marker = new google.maps.Marker({
                    position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                    map: map
                });

                google.maps.event.addListener(marker, 'click', (function (content) {
                    return function () {
                        infowindow.setContent(content);
                        infowindow.open(map, this);
                    }
                })(contentString));
            }
        }


    </script>
</head>
<body>
<div data-role="page" id="map_page">
    <div data-role="panel" id="navpanel" data-theme="b" data-display="overlay" data-position="left">
        <div data-role="controlgroup" data-corners="false">
            <a href="#" data-role="button">View Location</a>
            <a href="#" data-role="button">Set Location</a>
            <a href="#" data-role="button">More Options</a>

        </div>
    </div>
    <div id="header" data-role="header" data-theme="b">
        <a id="bars-button" data-icon="bars" class="ui-btn-left" style="margin-top:10px;" href="#navpanel">Menu</a>

        <h1 id="heading">HOTSPOT</h1>

    </div>
    <div id="frame" data-role="content">
        <div id="map_canvas"></div>
    </div>

    <div id="footer" data-role="footer" data-position="fixed" data-theme="b" class="ui-bar">
        <a href="#about" data-rel="popup" data-position-to="window" data-role="button" data-inline="true"
           data-transition="flip" data-icon="info" data-theme="e">About</a>

    </div>
    <!-- About Author Popup -->
    <div data-role="popup" id="about" data-overlay-theme="a" data-theme="c" data-dismissible="false"
         style="max-width:300px;" class="ui-corner-all">

        <div data-role="header" class="ui-header ui-bar-c"><a href="#" data-rel="back" data-role="button" data-theme="a"
                                                              data-icon="delete" data-iconpos="notext"
                                                              class="ui-btn-right">Close</a>

            <h1>HotSpot<br></h1>

        </div>
        <div data-role="content" data-theme="d" class="ui-corner-bottom ui-content">
            <p>A Team 27 Application <b>2014</b>
        </div>
    </div>
    <!-- /About -->
</div>
</body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="cordova.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript">
    app.initialize();
</script>
<script type="text/javascript">
    /* $(document).ready(function(){
     alert("Jquery is working");
     });*/
</script>
<script>
    var getmap = $('body').width();
    console.log(getmap);
    var check = $(document).height();
    var check2 = $('#header').height();
    var check3 = $('#footer').height();
    var setHeight = check - (check2 + check3);
    $("#map_canvas").css({'height': setHeight + "px" });
</script>
</html>